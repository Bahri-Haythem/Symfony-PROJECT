{% extends 'base.html.twig' %}

{% block title %}PostList{% endblock %}

{% block body %}
    <!--affichage un message si post supprimé-->
    {% for message in app.flashes("remove")  %}
        <div class="alert alert-danger">
            {{message}}
        </div>
    {% endfor %}
    <!--affichage un message si post ajouté-->
    {% for message in app.flashes("add")  %}
        <div class="alert alert-success">
            {{message}}
        </div>
    {% endfor %}
    <table class="table table-striped mt-4">
    <thead>
        <tr>
            <td class="b">ID</td>
            <td class="b">Title</td>
            <td class="b">Actions</td>
        </tr>
    </thead>
    <tbody>
    <!--affichage tous les posts-->
        {% for post in posts %}
        <tr>
            <td>{{post.id}}</td>
            <td>
                <a href="{{ path("post.show",{id:post.id}) }}">
                {{post.title}}
                </a>
            </td>
            <td>
                <a class="text-danger" href="{{ path("post.remove",{id:post.id}) }}">
                Delete
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
    </table>
    
{% endblock %}
